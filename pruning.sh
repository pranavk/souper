#!/bin/bash
ninja souper-check &&  /home/pranavk/projects/souper/build/souper-check -infer-rhs -souper-exhaustive-synthesis -souper-dataflow-pruning -souper-exhaustive-synthesis-num-instructions=$2 -souper-exhaustive-synthesis-debug-level=3 -z3-path=/home/pranavk/projects/souper/third_party/z3-install/bin/z3 $1  2> /tmp/out.txt &&  cat /tmp/out.txt | grep 'symbolic' | wc -l &&  cat /tmp/out.txt | grep 'hole' | wc -l &&  tail -n5 /tmp/out.txt; /home/pranavk/projects/souper/build/souper-check -infer-rhs -souper-exhaustive-synthesis -souper-dataflow-pruning=false -souper-exhaustive-synthesis-num-instructions=$2 -souper-exhaustive-synthesis-debug-level=3 -z3-path=/home/pranavk/projects/souper/third_party/z3-install/bin/z3 $1
